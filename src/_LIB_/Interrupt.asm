; =========================================================================================================================================================
; Mighty The Armadillo in PRISM PARADISE
; By Nat The Porcupine 2021
; ---------------------------------------------------------------------------------------------------------------------------------------------------------
; Interrupt functions
; =========================================================================================================================================================
; ---------------------------------------------------------------------------------------------------------------------------------------------------------
; Wait for the vertical interrupt to run and finish
; ---------------------------------------------------------------------------------------------------------------------------------------------------------
; PARAMETERS:
;	Nothing
; ---------------------------------------------------------------------------------------------------------------------------------------------------------
; RETURNS:
;	Nothing
; ---------------------------------------------------------------------------------------------------------------------------------------------------------
VSync:
		st	rVINTFlag.w			; Set V-INT flag

VSync_Routine:
		intsOn					; Enable interrupts
		lagOff					; Turn off the lag-o-meter

.Wait:
		tst.b	rVINTFlag.w			; Has the V-INT run yet?
		bne.s	.Wait				; If not, wait some more
		rts
; =========================================================================================================================================================